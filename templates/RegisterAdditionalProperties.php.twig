<?php
declare(strict_types=1);

namespace {{ namespace }}EventListener;

use Brotkrueml\Schema\Event\RegisterAdditionalTypePropertiesEvent;
use Brotkrueml\Schema\Model\Type;

final class RegisterAdditionalProperties
{
    public function __invoke(RegisterAdditionalTypePropertiesEvent $event): void
    {
        {% for term in additionalProperties.terms %}
            if ($event->getType() === Type\{{ term.type.id }}::class) {
                {% for property in term.properties %}
                    $event->registerAdditionalProperty('{{ property }}');
                {% endfor %}
            }
        {% endfor %}
    }
}
